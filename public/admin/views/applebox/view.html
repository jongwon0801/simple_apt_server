
<div ng-controller="AppleboxViewCtrl">

    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>락커</h2>
            <ol class="breadcrumb">
                <li><a ui-sref="home">홈</a></li>
                <li><a>락커</a></li>
                <li class="active"><strong>락커 현황</strong></li>
            </ol>
        </div>
        <div class="col-lg-2"></div>
    </div>

    <div class="wrapper wrapper-content animated fadeInRight ecommerce">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox">
                    <div class="ibox-title">
                        <h5>[{{title}}]보관함 현황</h5>
                        <div class="ibox-tools">
                            <a ui-sref="applebox.raspiview($stateParams)" class="btn btn-primary btn-sm">상세제어</a>
                            <button ng-click="onInstallFile()" class="btn btn-primary btn-sm">설치파일보기</button>
                            <button ng-click="onDeleteAll()" class="btn btn-primary btn-sm">보관함전체삭제</button>
                        </div>       
                    </div>

                    <div class="ibox-content">
                        <div>
                            <span style='background:#ff0000'>보관중</span>
                            <span style='background:#00ffff'>사용가능</span>
                            <span style='background:#ff00ff'>사용불가</span>
                            <span style='background:#ffff00'>보관하려는중</span>
                            <span style='background:#0000ff'>찾으려는중</span>
                        </div>  

                        <div id="child" style="position:relative;width:100%; height:800px;background:#eee; overflow:auto">
                            <div ng-repeat="item in list" 
                                 data-locker="{{item.box}}" 
                                 ng-style="{ 
                                     'top': item.loc.top+'px', 
                                     'width': item.loc.getWidth()+'px', 
                                     'left': item.loc.left+'px', 
                                     'height': item.loc.getHeight()+'px', 
                                     'background-color': item.color 
                                 }" 
                                 ng-class="{cabinet_panel: item.box.yid}"  
                                 style="position: absolute; cursor: pointer; border: 2px solid white;">
                                
                                {{item.box.label}} </br>

                                <div style='overflow:hidden'>
                                    {{item.box.senderHp}} - {{item.box.receiverHp}}
                                </div>

                                <div ng-if="item.box.closed" style='position:absolute;right:0px; bottom:0px;'>
                                    <i class='fa fa-lock fa-lg'></i>
                                </div>

                                <div ng-if="item.box.status=='B'" style='position:absolute;right:0px; bottom:0px;'>
                                    <i class='fa fa-bath fa-lg'></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

